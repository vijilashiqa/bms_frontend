<div class="col-md-12">
   <nb-card>
      <nb-card-header>View Service</nb-card-header>
      <nb-card-body>
         <hr>
         <ngb-tabset>
            <ngb-tab title="Service Info">
               <ng-template ngbTabContent>
                  <hr style="border:0px">
                  <div class="row">
                     <div class="col-lg-6">
                        <nb-card>
                           <nb-card-header style="background-color:#01a7ee;padding: 10px;">Basic Info</nb-card-header>
                           <nb-card-body>
                              <table class="table table-hover table-striped">
                                 <tr>
                                    <th>ISP Name</th>
                                    <td>{{data.busname}}</td>
                                 </tr>
                                 <tr>
                                    <th>Circle</th>
                                    <td>{{data.groupname || '--'}}</td>
                                 </tr>
                                 <tr>
                                    <th>Service Name</th>
                                    <td>{{data.srvname}}</td>
                                 </tr>
                                 <tr>
                                    <th>Service Mode</th>
                                    <td>{{data.srvmode==0 ? 'Regular':data.srvmode==1 ? 'Fallback' :data.srvmode==2 ?
                                       'Expiry Serivcie' : 'Disabled Service'}}</td>
                                 </tr>
                                 <tr>
                                    <th>Serivcie Type</th>
                                    <td>{{data.srvtype==0 ? 'Prepaid':'Postpaid'}}</td>
                                 </tr>
                                 <tr>
                                    <th>Service Expiry type</th>
                                    <td>{{data.limitexpiration==1 ? 'Expiry':'No Expiry'}}</td>
                                 </tr>
                                 <tr>
                                    <th>Service Data type</th>
                                    <td>{{data.srvdatatype==1 ?'Unlimited':'FUP'}}</td>
                                 </tr>
                              </table>
                           </nb-card-body>
                        </nb-card>
                     </div>
                     <div class="col-lg-6">
                        <nb-card>
                           <nb-card-header style="background-color:#01a7ee;padding: 10px;">Nas & Reseller Info</nb-card-header>
                           <nb-card-body>
                              <table class="table table-hover table-striped">
                                 <tr>
                                    <th>Reseller Name</th>
                                    <th>Nas Name</th>
                                 </tr>
                                 <tr *ngFor="let item of item">
                                    <td>{{item.company}}</td>
                                    <td>{{item.nasname}}</td>
                                 </tr>
                              </table>
                           </nb-card-body>
                        </nb-card>
                     </div>
                  </div>
               </ng-template>
            </ngb-tab>
            <ngb-tab title="Package & Pricing">
               <ng-template ngbTabContent>
                  <hr style="border:0px">
                  <div class="row">
                     <div class="col-lg-12">
                        <div style="overflow: scroll">
                           <table class="table">
                              <thead>
                                 <tr>
                                    <th>Company Name</th>
                                    <th>Reseller Type</th>
                                    <th>Share Type</th>
                                    <th></th>
                                    <th></th>
                                    <th></th>
                                    <th></th>
                                    <th></th>
                                    <th></th>
                                 </tr>
                              </thead>
                              <tbody>
                                 <ng-container *ngFor='let item of pack;let i=index'>
                                    <div style="display: table-row">
                                       <td style="cursor: pointer;" (click)="packprice(i);"><i
                                             [ngClass]="{'fa-caret-down':index!=i,'fas':true,'fa-caret-up':index==i }"></i><b>
                                             {{item.company }}</b></td>
                                       <td>{{item.role==444 ? 'Bulk Reseller' : 'Deposit Reseller'}}</td>
                                       <td>{{item.sharing_type ==1 ? 'Common' : 'Package Wise'}}</td>
                                       <td></td>
                                       <td></td>
                                       <td></td>
                                       <td></td>
                                       <td></td>
                                       <td></td>
                                    </div>
                                    <ng-container *ngIf="index==i">
                                       <tr *ngIf='length1 != 0'>
                                          <th></th>
                                          <th>Sub Plan Name</th>
                                          <th>ISP Share</th>
                                          <th>SubISp Share</th>
                                          <th>Sub Distributor share</th>
                                          <th>Reseller Share</th>
                                          <th>Unit Type</th>
                                          <th>Time Unit</th>
                                          <th>Price</th>
                                       </tr>
                                       <tr *ngFor='let item of priceshow;'>
                                          <td></td>
                                          <td>{{item.sub_plan}}</td>
                                          <td>{{item.isp_share}}</td>
                                          <td>{{item.sub_isp_share}}</td>
                                          <td>{{item.sub_dist_share}}</td>
                                          <td>{{item.reseller_share}}</td>
                                          <td>{{item.type==1 ?'Months' : 'Days'}}</td>
                                          <td>{{item.type==1 ? item.time_unit==1 ?item.time_unit +" "+ "Month":
                                             item.time_unit +" "+ "Months" :item.time_unit==1 ? item.time_unit+" "
                                             + "Day": item.time_unit+" "+"Days" }}
                                          </td>
                                          <td class="fas fa-rupee-sign">{{item.amount}}</td>
                                       </tr>
                                       <tr>
                                          <td *ngIf='length1==0' colspan="7" >
                                             <h5><b>No Data Found</b></h5>
                                          </td>
                                       </tr>
                                    </ng-container>
                                    </ng-container>
                               </tbody>
                           </table>
                        </div>
                     </div>
                  </div>
               </ng-template>
            </ngb-tab>
         </ngb-tabset>
         <div class="modal-footer">
            <button type="submit" class="btn btn-md btn-danger" (click)='cancel()'>Back</button>
         </div>
      </nb-card-body>
   </nb-card>
</div>